%======================================================================
% Input encoding
%

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}


%======================================================================
% Programming
%

% Make it easier to define new commands with optional arguments (\newcommandx)
\usepackage{xargs}

% Let us check for draft/final conditions
\usepackage{ifdraft}


%======================================================================
% Fonts
%

% Times New Roman (text and math)
%\usepackage{mathptm}

% Open Sans as default font
\usepackage[default]{opensans}
% Open Sans only as default sans font
%\usepackage[defaultsans]{opensans}


%======================================================================
% Page layout
%

% Adjust margins from the default.
% About 4.3cm seems close to the default when you don't use geometry
% \usepackage[margin=4.3cm]{geometry}


%======================================================================
% Major typographical decisions
%

\usepackage{parskip}    % skip line for paragraphs instead of indent


%======================================================================
% Figures
%
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage[margin=1cm,justification=centering]{caption}
\usepackage{subcaption} % sub-figures

%\usepackage{tikz}
%\usetikzlibrary{graphs}
%\usetikzlibrary{shapes}
%\usetikzlibrary{arrows}

%\usepackage{adjustbox}

% Move all images to the end of the document in draft mode
\ifoptionfinal
{
}{
%\usepackage{endfloat}
}


%======================================================================
% Listings
%
\usepackage{listings}
\lstset{basicstyle=\ttfamily\footnotesize,breaklines=false}
% Don't panic on curly quotes that sneak into listings
\lstset{literate={’}{{'}}1}


%======================================================================
% Typographical tweaks
%

% Nicer hlines (\midrule) in tables
\usepackage{booktabs}

% Compact inline lists with enumerate*
\usepackage[inline]{enumitem}

% Smart quotes
% Provides \enquote command
\usepackage [strict=true]{csquotes}
%\MakeOuterQuote{"}  % Automatically treat quoted strings as quotes


%======================================================================
% Bibliography
%

\usepackage[
    backend=bibtex,
    % use date like "Apr. 7, 2017" instead of American "04/07/2017"
    urldate=long,
    % use only initials of given names
    firstinits=true,
    % leave citations in the order they appear in the text
    sorting=none,
]{biblatex}

\addbibresource{sources.bib}
% Bib names last-first
\DeclareNameAlias{sortname}{last-first}
\DeclareNameAlias{default}{last-first}
% Bib names small caps
\renewcommand{\mkbibnamelast}[1]{\textsc{#1}}


%======================================================================
% TODO notes
%

\usepackage[
    obeyFinal,
    colorinlistoftodos,
]{todonotes}
\ifoptionfinal{%
    %nothing
}{
    \setlength{\marginparwidth}{2.5cm}
}


%======================================================================
% Other document features (hyperref unaware)
%

% Numbers and units of measurement
\usepackage[binary-units]{siunitx}


% Quotations
\usepackage[]{csquotes}


%======================================================================
% Hyperref
%
% Link URLs in the PDF, and link references within the PDF itself
%
% ↑↑↑ Hyperref unaware packages above this line ↑↑↑
%
% The hyperref docs recommend declaring it after the other \usepackage
% declarations, because it has to redefine several commands to work properly,
% and other later redefinitions might interfere.
%
% However, other packages are aware of hyperref and ask to be declared AFTER it.

\usepackage[
    % Do not style links at all.
    hidelinks,
    % Mark links with color (instead of the default pastel boxes)
    %   Set color to a period (.) to not change color
    %colorlinks,
    % Specific colors
    linkcolor=.,
    anchorcolor=.,
    citecolor=.,
    menucolor=.,
    runcolor=.,
    urlcolor=blue,
    %allcolors=red,
    %% PDF options:
    % Use doc title metadata for PDF title metadata
    pdfusetitle,
    % Display document title instead of filename in title bar
    pdfdisplaydoctitle,
    % use section numbers in PDF index
    bookmarksnumbered,
    % Default view: show outline
    pdfpagemode={UseOutlines},
    % Default view: Fit height of page to PDF viewer window
    pdfstartview={FitV},
]{hyperref}

%
% ↓↓↓ Hyperref aware packages below this line ↓↓↓
%======================================================================


%======================================================================
% Other document features (hyperref aware)
%

% Combined references (chapters 1, 2 and 3)
\usepackage{cleveref}

% Glossaries
\usepackage[toc]{glossaries}
\makeglossaries

% Glossary entries
\input{glossary}
% Emphasize first use of glossary term
%\defglsentryfmt[main]{\ifglsused{\glslabel}{\glsgenentryfmt}{\emph{\glsgenentryfmt}}}
% Disable glossary hyperlinks
%\glsdisablehyper

% Author affiliations
\usepackage{authblk}
